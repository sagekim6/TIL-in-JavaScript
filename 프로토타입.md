# 프로토타입(Prototype)

- 자바스크립트는 프로토타입 기반의 객체지향 프로그래밍 언어다.
- 어떤 객체의 상위 객체 역할을 하는 객체이다.

## 프로토타입은 크게 두가지로 해석된다

1. 함수 객체 안의 `prototype` 프로퍼티
2. 생성된 인스턴스의 `__proto__` 프로퍼티

### 함수와 객체의 내부 구조 살펴보기

- 함수를 정의하면 새로운 객체가 생성된다.(함수도 객체)  
  이때 함수 객체만 생성되는 게 아니라 <b>그 객체의 prototype 객체도 같이 생성된다.</b>(prototype도 객체)
- 함수 객체의 prototype 프로퍼티는 함께 생성된 prototype 객체를 가리키고 그 prototype 객체에 있는 constructor라는 프로퍼티는 함수 객체를 가리킨다.

```javascript
// Person 생성자 함수 생성과 동시에 Person의 prototype 객체도 생성된다.
function Person(name, age) {
  this.name = name;
  this.age = age;
}
// Person 함수 안에 prototype 프로퍼티는 Person의 prototype 객체를 참조하고
// Person prototype 객체의 constructor 프로퍼티는 Person 함수를 참조한다.
```

여기서 <b>prototype 객체에</b> 함수를 추가해보자

```javascript
// Person 객체(함수)의 prototype 객체에 sayHello 함수 추가
Person.prototype.sayHello = function () {
  return `Hello ${this.name}.`;
};
```

인스턴스 생성 후 추가한 `sayHello` 함수 호출

```javascript
// Jane 인스턴스 생성
const jane = new Person("Jane");
console.log(jane.sayHello()); // Hello Jane.
```

- <b>인스턴스가 생성될 때 `__proto__` 프로퍼티도 같이 생성된다.</b>  
  `__proto__` 프로퍼티는 인스턴스를 <u>생성한 객체(함수)의 prototype 객체를 가리킨다.</u>
- 현재 `Person` 함수 객체에는 `sayHello`라는 함수가 없지만 `jane.sayHello()`가 잘 출력이 되는 것을 볼 수 있다.  
  그 이유는 `jane` 객체와 `prototype` 객체가 `__proto__` 프로퍼티로 연결되어있기 때문이다.  
  -> `sayHello` 함수가 `jane` 객체에 없지만 undefined를 리턴하는 것이 아니라 `__proto__`로 연결된 <b>prototype 객체로 이동해 `sayHello` 함수가 있는지 찾아본다.</b>
